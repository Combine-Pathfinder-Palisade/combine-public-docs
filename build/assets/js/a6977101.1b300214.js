"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1915],{5300:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"Combine AWS/deploying-maintaining/how-tos/how-to-configure-customer-firewall","title":"How To: Modify Customer Firewall Rules","description":"Steps","source":"@site/docs/Combine AWS/deploying-maintaining/how-tos/how-to-configure-customer-firewall.md","sourceDirName":"Combine AWS/deploying-maintaining/how-tos","slug":"/Combine AWS/deploying-maintaining/how-tos/how-to-configure-customer-firewall","permalink":"/Combine AWS/deploying-maintaining/how-tos/how-to-configure-customer-firewall","draft":false,"unlisted":false,"editUrl":"https://github.com/Combine-Pathfinder-Palisade/combine-docs/blob/main/docs/Combine AWS/deploying-maintaining/how-tos/how-to-configure-customer-firewall.md","tags":[],"version":"current","lastUpdatedBy":"github-actions","lastUpdatedAt":1739223322000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"How To: Configure AirGap Layer","permalink":"/Combine AWS/deploying-maintaining/how-tos/how-to-configure-airgap"},"next":{"title":"How To: Delete/Uninstall a Combine Deployment","permalink":"/Combine AWS/deploying-maintaining/how-tos/how-to-delete-combine-deployment"}}');var t=s(4848),l=s(8453);const r={},o="How To: Modify Customer Firewall Rules",c={},d=[{value:"Steps",id:"steps",level:2},{value:"Example Rules",id:"example-rules",level:2},{value:"Domain Name-Based Rule for HTTPS",id:"domain-name-based-rule-for-https",level:3},{value:"Static IP Address-Based Rule for TCP Traffic",id:"static-ip-address-based-rule-for-tcp-traffic",level:3}];function a(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"how-to-modify-customer-firewall-rules",children:"How To: Modify Customer Firewall Rules"})}),"\n",(0,t.jsx)(n.h2,{id:"steps",children:"Steps"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Log in to AWS"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Access the customer's account."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Navigate to VPC"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:'In AWS, search for "VPC".'}),"\n",(0,t.jsxs)(n.li,{children:["Open the ",(0,t.jsx)(n.strong,{children:"VPC Dashboard"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Locate Network Firewall Rule Groups"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["In the VPC Dashboard, go to ",(0,t.jsx)(n.strong,{children:"Network Firewall > Network Firewall Rule Groups"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Find one of the following rule groups:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"Combine-Private-Rule-Allow-Default"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"Combine-Custom-Rule-Group"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.em,{children:"Note: The age of the deployment will dictate the name of the rule set."})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Edit the Rule Set"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Click on the rule set name."}),"\n",(0,t.jsxs)(n.li,{children:["Locate the ",(0,t.jsx)(n.strong,{children:'"Rules"'})," bubble on the page and click ",(0,t.jsx)(n.strong,{children:"Edit"}),".","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.em,{children:"Tip: The rule edit textbox can be expanded using the handle on the bottom-right corner."})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.em,{children:"All rules are Suricata-compatible rule strings."})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Modify Rules"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"For HTTPS traffic:"})," Look for pre-existing ",(0,t.jsx)(n.code,{children:"pass tls"})," and ",(0,t.jsx)(n.code,{children:"pass http"})," rules."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"For TCP traffic:"})," Add rules to accommodate multiple protocol types if needed."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"example-rules",children:"Example Rules"}),"\n",(0,t.jsx)(n.h3,{id:"domain-name-based-rule-for-https",children:"Domain Name-Based Rule for HTTPS"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plaintext",children:'pass tls any any -> any any (msg:"White List"; flow:to_server; tls.sni; content:"labs-us-1.customer.com"; nocase; endswith; ssl_state:client_hello; sid:1005; rev:1;)\npass http any any -> any any (msg:"White List"; content:"labs-us-1.customer.com"; http_host; endswith; sid:1006; rev:1;)\n'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Notes:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["The ",(0,t.jsx)(n.code,{children:"content"})," tag contains the target URL."]}),"\n",(0,t.jsxs)(n.li,{children:["Ensure there are:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["No slashes (",(0,t.jsx)(n.code,{children:"/"}),") at the end of the URL."]}),"\n",(0,t.jsxs)(n.li,{children:["No ",(0,t.jsx)(n.code,{children:"http"})," prefix in the URL."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["The ",(0,t.jsx)(n.code,{children:"sid"})," and ",(0,t.jsx)(n.code,{children:"rev"})," numbers at the end of the rule must be ",(0,t.jsx)(n.strong,{children:"unique"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"static-ip-address-based-rule-for-tcp-traffic",children:"Static IP Address-Based Rule for TCP Traffic"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plaintext",children:'pass tcp any any -> 123.219.224.223 any (msg:"White List TLS for labs-us-1.customer.com IP"; flow:to_server, established; sid:1007; rev:1;)\npass tcp any any -> 123.197.107.234 any (msg:"White List TLS for labs-us-1.customer.com IP"; flow:to_server, established; sid:1008; rev:1;)\npass tcp any any -> 123.219.224.179 any (msg:"White List TLS for labs-us-1.customer.com IP"; flow:to_server, established; sid:1009; rev:1;)\n'})}),"\n",(0,t.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>o});var i=s(6540);const t={},l=i.createContext(t);function r(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);